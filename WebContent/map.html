<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이루미 길잡이</title>
<style>
#mapwrap {
	position: relative;
	overflow: hidden;
}

.category, .category * {
	margin: 0;
	padding: 0;
	color: #000;
}

.category {
	position: absolute;
	overflow: hidden;
	top: 10px;
	left: 10px;
	height: 50px;
	z-index: 10;
	border: 1px solid black;
	font-family: 'Malgun Gothic', '맑은 고딕', sans-serif;
	font-size: 12px;
	text-align: center;
	background-color: #fff;
}

.category .menu_selected {
	background: #FF5F4A;
	color: #fff;
	border-left: 1px solid #915B2F;
	border-right: 1px solid #915B2F;
	margin: 0 -1px;
}

.category li {
	list-style: none;
	float: left;
	width: 70px;
	height: 45px;
	padding-top: 5px;
	cursor: pointer;
}

.category .ico_comm {
	display: block;
	margin: 0 auto 2px;
	width: 22px;
	height: 26px;
	background:
		url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/category.png')
		no-repeat;
}

.category .ico_coffee {
	background-position: -10px 0;
}

.category .ico_store {
	background-position: -10px -36px;
}
</style>
</head>
<body>
	<div id="mapwrap">
		<div id="map" style="width: 750px; height: 500px;"></div>
		<!-- 지도 위에 표시될 마커 카테고리 -->
		<div class="category">
			<ul>
				<li id="foodMenu" onclick="changeMarker('food')">
				<span class="ico_comm ico_coffee"></span>음식점</li>
				<li id="cafeMenu" onclick="changeMarker('cafe')">
				<span class="ico_comm ico_store"></span>카페</li>
			</ul>
		</div>
	</div>
	<div>
		<ul id="foodlist">
			<li class="foodlist"><a href="http://naver.me/5aVq0JMN" target="_blank">병천순대</a></li>
			<li class="foodlist"><a href="http://naver.me/5s93s9l0" target="_blank">카츠랑</a></li>
			<li class="foodlist">돈우네정육식당</li>
			<li class="foodlist">식탐</li>
			<li class="foodlist">해밀</li>
		</ul>
		<ul id="cafelist">
			<li>감성카페</li>
			<li>메이로드</li>
		</ul>
	</div>


<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script type="text/javascript"src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e7f5bad1fe3f9b06240cea6d2cd9735d"></script>

<script>
	
	
		var container = document.getElementById('map');
		var options = {
			center : new kakao.maps.LatLng(37.4850802, 126.841292),
			level : 3
		};

		var map = new kakao.maps.Map(container, options);

		//마커가 표시될 위치입니다 
		var markerPosition = new kakao.maps.LatLng(37.4850802, 126.841292);

		// 마커를 생성합니다
		var mainmarker = new kakao.maps.Marker({
			position : markerPosition
		});

		// 마커가 지도 위에 표시되도록 설정합니다
		mainmarker.setMap(map);

		var content = '<div class ="label"><span class="left"></span><span class="center">청년이룸!</span><span class="right"></span></div>';

		//커스텀 오버레이가 표시될 위치입니다 
		var position = new kakao.maps.LatLng(37.4850802, 126.841292);

		//커스텀 오버레이를 생성합니다
		var customOverlay = new kakao.maps.CustomOverlay({
			position : position,
			content : content
		});
////ㅇㅇㅇㅇㅇㅇㅇㅇㅇ
		//커스텀 오버레이를 지도에 표시합니다
		customOverlay.setMap(map);

		var foodPositions = [

		new kakao.maps.LatLng(37.4861500, 126.839571), //천왕짬뽕
		new kakao.maps.LatLng(37.488596824, 126.839564751923),//병천순대
		new kakao.maps.LatLng(37.4861761837, 126.839502313468),//카츠랑
		new kakao.maps.LatLng(37.4875992373637, 126.839106913316),//돈우네
		new kakao.maps.LatLng(37.489021738886, 126.839498260854),//식탐
		new kakao.maps.LatLng(37.4883180401519, 126.837577318156)//해밀

		];

		var cafePositions = [ new kakao.maps.LatLng(37.4861500, 126.839571),//메이로드
		new kakao.maps.LatLng(37.4871663801413, 126.839163246023) //감성카페
		];
		var fpositions = [{
			content : '<div>천왕짬뽕</div>',
			latlng : new kakao.maps.LatLng(37.4861500, 126.839571)
		}, {
			content : '<div>병천순대</div>',
			latlng : new kakao.maps.LatLng(37.488596824, 126.839564751923)
		}, {
			content : '<div>카츠랑</div>',
			latlng : new kakao.maps.LatLng(37.4861761837, 126.839502313468)
		}, {
			content : '<div>돈우네정육식당</div>',
			latlng : new kakao.maps.LatLng(37.4875992373637, 126.839106913316)
		}, {
			content : '<div>식탐</div>',
			latlng : new kakao.maps.LatLng(37.489021738886, 126.839498260854)
		}, {
			content : '<div>해밀</div>',
			latlng : new kakao.maps.LatLng(37.4883180401519, 126.837577318156)
		}

		];

		var cpositions = [ {
			content : '<div>메이로드</div>',
			latlng : new kakao.maps.LatLng(37.4861500, 126.839571)
		}, {
			content : '<div>감성카페</div>',
			latlng : new kakao.maps.LatLng(37.4871663801413, 126.839163246023)
		}

		];

		var markerImageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/category.png'; // 마커이미지의 주소입니다. 스프라이트 이미지 입니다
		foodMarkers = [], cafeMarkers = [];

		createfoodMarkers();
		createcafeMarkers();
///ㅇㅇㅇㅇㅇ
		changeMarker('food'); // 지도에 음식 마커가 보이도록 설정합니다 
		
		//마커 이미지를 생성
		function createMarkerImage(src, size, options) {
			var markerImage = new kakao.maps.MarkerImage(src, size, options);
			return markerImage;
		}
		function createMarker(position, image) {
			var marker = new kakao.maps.Marker({
				position : position,
				image : image
			});

			return marker;
		}

		//음식점 마커 
		function createfoodMarkers() {

			for (var i = 0; i < foodPositions.length; i++) {

				//카테고리별 마커
				var imageSize = new kakao.maps.Size(22, 26), imageOptions = {
					spriteOrigin : new kakao.maps.Point(10, 0),
					spriteSize : new kakao.maps.Size(36, 98)
				};				
						
				// 마커이미지와 마커를 생성합니다
				var markerImage = createMarkerImage(markerImageSrc, imageSize,
						imageOptions), marker = createMarker(foodPositions[i],
						markerImage);

				// 마커에 표시할 인포윈도우를 생성합니다 
				var infowindow = new kakao.maps.InfoWindow({
					content : fpositions[i].content
					
				// 인포윈도우에 표시할 내용
				});

				// 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
				// 이벤트 리스너로는 클로저를 만들어 등록합니다 
				// for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
				kakao.maps.event.addListener(marker, 'mouseover',makeOverListener(map, marker, infowindow));
				kakao.maps.event.addListener(marker, 'mouseout',makeOutListener(infowindow));

				// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
				function makeOverListener(map, marker, infowindow) {
					return function() {
						infowindow.open(map, marker);
					};
				}

				// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
				function makeOutListener(infowindow) {
					return function() {
						infowindow.close();
					};
				}

				// 생성된 마커를 커피숍 마커 배열에 추가합니다
				foodMarkers.push(marker);
			}
		}

		//음식점 마커들의 지도 표시 여부를 설정하는 함수입니다
		function setfoodMarkers(map) {
			for (var i = 0; i < foodMarkers.length; i++) {
				foodMarkers[i].setMap(map);
			}
		}

		//카페 마커를 생성하고 편의점 마커 배열에 추가하는 함수입니다
		function createcafeMarkers() {
			for (var i = 0; i < cafePositions.length; i++) {

				var imageSize = new kakao.maps.Size(22, 26), imageOptions = {
					spriteOrigin : new kakao.maps.Point(10, 36),
					spriteSize : new kakao.maps.Size(36, 98)
				};

				// 마커이미지와 마커를 생성합니다
				var markerImage = createMarkerImage(markerImageSrc, imageSize,
						imageOptions), marker = createMarker(cafePositions[i],
						markerImage);

				// 마커에 표시할 인포윈도우를 생성합니다 
				var infowindow = new kakao.maps.InfoWindow({
					content : cpositions[i].content
				// 인포윈도우에 표시할 내용
				}); 
				// 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
				// 이벤트 리스너로는 클로저를 만들어 등록합니다 
				// for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
				kakao.maps.event.addListener(marker, 'mouseover',
						makeOverListener(map, marker, infowindow));
				kakao.maps.event.addListener(marker, 'mouseout',
						makeOutListener(infowindow));

				// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
				function makeOverListener(map, marker, infowindow) {
					return function() {
						infowindow.open(map, marker);
					};
				}

				// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
				function makeOutListener(infowindow) {
					return function() {
						infowindow.close();
					};
				}
				// 생성된 마커를 편의점 마커 배열에 추가합니다
				cafeMarkers.push(marker);
			}
		}

		//카페 마커들의 지도 표시 여부를 설정하는 함수입니다
		function setcafeMarkers(map) {
			for (var i = 0; i < cafeMarkers.length; i++) {
				cafeMarkers[i].setMap(map);
			}
		}

		function changeMarker(type) {

			var foodMenu = document.getElementById('foodMenu');
			var cafeMenu = document.getElementById('cafeMenu');
			
			// 커피숍 카테고리가 클릭됐을 때
			if (type === 'food') {

				//음식 카테고리를 선택된 스타일로 변경하고
				foodMenu.className = 'menu_selected';
				//카페 카테고리 선택 안 하기 
				cafeMenu.className = '';
				// 커피숍 마커들만 지도에 표시하도록 설정합니다
				setfoodMarkers(map);
				setcafeMarkers(null);
				document.getElementById("foodlist").style.display = "block";
				document.getElementById("cafelist").style.display = "none";
				var foodlist = document.getElementsByClassName('foodlist');
				//푸드 리스트의 객체에 접근하여 
				 
				
			} else if (type === 'cafe') { // 편의점 카테고리가 클릭됐을 때

				// 편의점 카테고리를 선택된 스타일로 변경하고
				foodMenu.className = '';
				cafeMenu.className = 'menu_selected';

				// 편의점 마커들만 지도에 표시하도록 설정합니다
				setfoodMarkers(null);
				setcafeMarkers(map);
				document.getElementById("foodlist").style.display = "none";
				document.getElementById("cafelist").style.display = "block";

			}
		}
		

		
	 
			
	</script>
</body>
</html>