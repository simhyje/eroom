<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<title>Insert title here</title>
 <style>
#mapwrap{position:relative;overflow:hidden;}
.category, .category *{margin:0;padding:0;color:#000;}   
.category {position:absolute;overflow:hidden;top:10px;left:10px;width:150px;height:50px;z-index:10;border:1px solid black;font-family:'Malgun Gothic','맑은 고딕',sans-serif;font-size:12px;text-align:center;background-color:#fff;}
.category .menu_selected {background:#FF5F4A;color:#fff;border-left:1px solid #915B2F;border-right:1px solid #915B2F;margin:0 -1px;} 
.category li{list-style:none;float:left;width:50px;height:45px;padding-top:5px;cursor:pointer;} 
.category .ico_comm {display:block;margin:0 auto 2px;width:22px;height:26px;background:url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/category.png') no-repeat;} 
.category .ico_coffee {background-position:-10px 0;}  
.category .ico_store {background-position:-10px -36px;}   
.category .ico_carpark {background-position:-10px -72px;} 
</style>
</head>
<body>
<div id="mapwrap">  
<div id="map" style="width:800px;height:600px;"></div>
    <!-- 지도 위에 표시될 마커 카테고리 -->
    <div class="category">
        <ul>
            <li id="foodMenu" onclick="changeMarker('food')">
                <span class="ico_comm ico_coffee"></span>
                음식점
            </li>

        </ul>
    </div>
</div>



<script type="text/javascript"  src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e7f5bad1fe3f9b06240cea6d2cd9735d"></script>
<script>


var container = document.getElementById('map');
var options = {
	center: new kakao.maps.LatLng(37.4850802,126.841292),
	level: 3
};

var map = new kakao.maps.Map(container, options);

//마커가 표시될 위치입니다 
var markerPosition  = new kakao.maps.LatLng(37.4850802,126.841292); 

// 마커를 생성합니다
var mainmarker = new kakao.maps.Marker({
    position: markerPosition
});

// 마커가 지도 위에 표시되도록 설정합니다
mainmarker.setMap(map);

var content = '<div class ="label"><span class="left"></span><span class="center">청년이룸!</span><span class="right"></span></div>';

//커스텀 오버레이가 표시될 위치입니다 
var position = new kakao.maps.LatLng(37.4850802,126.841292);  

//커스텀 오버레이를 생성합니다
var customOverlay = new kakao.maps.CustomOverlay({
 position: position,
 content: content   
});

//커스텀 오버레이를 지도에 표시합니다
customOverlay.setMap(map);

var foodPositions=[
		{						
			 content: '<div>천왕짬뽕</div>',		  
			 latlng:new kakao.maps.LatLng(37.4861500, 126.839571) //천왕짬뽕
		  
		 },
		 {
			 content: '<div>일리노이</div>',	 
			 latlng:new kakao.maps.LatLng(37.486805721, 126.831607577409)//일리노이
		 },
		 {
			 content: '<div>병천순대</div>',	
			 latlng:new kakao.maps.LatLng(37.488596824, 126.839564751923)//병천순대
		 },
		 { 
			 content: '<div>카츠랑</div>',
			 latlng:new kakao.maps.LatLng(37.4861761837, 126.839502313468)//카츠랑
		 }, 
		 {
			 content: '<div>돈우네정육식당</div>',
			 latlng:new kakao.maps.LatLng(37.4875992373637, 126.839106913316)//돈우네
		 }, 		 
		 {
			 content: '<div>식탐</div>',
			 latlng:new kakao.maps.LatLng(37.489021738886, 126.839498260854)//식탐
		 }, 
		 {
			 content: '<div>해밀</div>',
			 latlng:new kakao.maps.LatLng(37.4883180401519, 126.837577318156)//해밀
		 }, 
		 {
			 content: '<div>대구반야월막창</div>',
			 latlng:new kakao.maps.LatLng(37.4876290144401, 126.83841282056)//대구반야월막창
		 }, 
		 {
			 content: '<div>순뚝순뚝</div>',
			 latlng:new kakao.maps.LatLng(37.4892814028654, 126.83936111268)//순뚝순뚝
		 }	
		 ];
	
	
	
var markerImageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/category.png';  // 마커이미지의 주소입니다. 스프라이트 이미지 입니다
foodMarkers  = [];


createfoodMarkers();
//changeMarker('food'); // 지도에 커피숍 마커가 보이도록 설정합니다 

function createMarkerImage(src, size, options) {
    var markerImage = new kakao.maps.MarkerImage(src, size, options);
    return markerImage;            
}
function createMarker(position, image) {
    var marker = new kakao.maps.Marker({
        position: position,
        image: image
    });
    
    return marker;  
}

function createfoodMarkers() {
    
    for (var i = 0; i < foodPositions.length; i++) {  
        
        var imageSize = new kakao.maps.Size(22, 26),
            imageOptions = {  
                spriteOrigin: new kakao.maps.Point(10, 0),    
                spriteSize: new kakao.maps.Size(36, 98)  
            };     
        
        // 마커이미지와 마커를 생성합니다
        var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),    
            marker = createMarker(foodPositions[i], markerImage);  
        
        // 생성된 마커를 커피숍 마커 배열에 추가합니다
        foodMarkers.push(marker);
    }     
}


//커피숍 마커들의 지도 표시 여부를 설정하는 함수입니다
/* function setfoodMarkers(map) {        
    for (var i = 0; i < foodMarkers.length; i++) {  
    	foodMarkers[i].setMap(map);
    }        
} */

/* function changeMarker(type){
    
     var foodMenu = document.getElementById('foodMenu');
    
    // 커피숍 카테고리가 클릭됐을 때
   
    
        // 커피숍 카테고리를 선택된 스타일로 변경하고
        foodMenu.className = 'menu_selected';
        
        // 편의점과 주차장 카테고리는 선택되지 않은 스타일로 바꿉니다
        //storeMenu.className = '';
        //carparkMenu.className = '';
        
        // 커피숍 마커들만 지도에 표시하도록 설정합니다
        //setfoodMarkers(map);
        //setStoreMarkers(null);
        //setCarparkMarkers(null);
        
     
}   */

for (var i = 0; i < foodPositions.length; i ++) {
    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        map: map, // 마커를 표시할 지도
        foodPositions: foodPositions[i].latlng // 마커의 위치
    });

    // 마커에 표시할 인포윈도우를 생성합니다 
    var infowindow = new kakao.maps.InfoWindow({
        content: foodPositions[i].content // 인포윈도우에 표시할 내용
    });

    // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
    // 이벤트 리스너로는 클로저를 만들어 등록합니다 
    // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
    kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
    kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
}

// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
function makeOverListener(map, marker, infowindow) {
    return function() {
        infowindow.open(map, marker);
    };
}

// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
function makeOutListener(infowindow) {
    return function() {
        infowindow.close();
    };
}





</script>
</body>
</html>